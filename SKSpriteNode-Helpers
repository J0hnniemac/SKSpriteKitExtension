//
//  Helpers.swift
//  mm2
//
//  Created by John McManus on 09/11/2015.
//  Copyright Â© 2015 AppyAppster Limited. All rights reserved.
//
import SpriteKit
extension SKSpriteNode {

tileNode - pass in a texture smaller than you node and it will fill the node up by tiliing the texture into it.
// e.g. floor.tileNode(SKTexture(imageNamed: floorImage!))

    func tileNode (tile: SKTexture){
        UIGraphicsBeginImageContext(self.size)
        let context = UIGraphicsGetCurrentContext()
        let tileSize = CGRect(x: 0.0, y: 0.0, width: tile.size().width, height: tile.size().height)
        CGContextDrawTiledImage(context, tileSize, tile.CGImage)
        let tiledBackground = UIGraphicsGetImageFromCurrentImageContext()
        UIGraphicsEndImageContext()
        let finalImage = SKTexture(CGImage: tiledBackground.CGImage!)
        self.texture = finalImage
        //current image is returned upside down, someting to do with way texture is chnaged to CGImage - work
        //around is to load you tile in upside down. 
        //will look into in future updates
    }
}
